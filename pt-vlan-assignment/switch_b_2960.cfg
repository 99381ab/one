! Switch B (2960) - Access
enable
configure terminal
hostname Switch-B

vlan 10
 name VLAN10
vlan 20
 name VLAN20
vlan 30
 name VLAN30
exit

interface FastEthernet0/1
 switchport mode access
 switchport access vlan 10
 spanning-tree portfast
 spanning-tree bpduguard enable
 description PC-VLAN10
 no shutdown

interface FastEthernet0/2
 switchport mode access
 switchport access vlan 20
 spanning-tree portfast
 spanning-tree bpduguard enable
 description PC-VLAN20
 no shutdown

interface FastEthernet0/3
 switchport mode access
 switchport access vlan 30
 spanning-tree portfast
 spanning-tree bpduguard enable
 description PC-VLAN30
 no shutdown

interface FastEthernet0/24
 switchport mode trunk
 switchport trunk allowed vlan 10,20,30
 switchport nonegotiate
 description Uplink-to-Switch-D-Fa0/2
 no shutdown

ip default-gateway 192.168.10.254
end
write memory